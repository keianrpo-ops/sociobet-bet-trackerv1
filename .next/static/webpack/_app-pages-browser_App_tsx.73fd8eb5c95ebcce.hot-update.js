"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-pages-browser_App_tsx",{

/***/ "(app-pages-browser)/./utils/calculations.ts":
/*!*******************************!*\
  !*** ./utils/calculations.ts ***!
  \*******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateBetOutcome: function() { return /* binding */ calculateBetOutcome; },\n/* harmony export */   calculateDashboardStats: function() { return /* binding */ calculateDashboardStats; },\n/* harmony export */   calculateExpectedReturn: function() { return /* binding */ calculateExpectedReturn; },\n/* harmony export */   formatCurrency: function() { return /* binding */ formatCurrency; },\n/* harmony export */   generateLedger: function() { return /* binding */ generateLedger; },\n/* harmony export */   generateProfessionalReport: function() { return /* binding */ generateProfessionalReport; }\n/* harmony export */ });\nconst formatCurrency = (amount)=>{\n    return new Intl.NumberFormat(\"es-CO\", {\n        style: \"currency\",\n        currency: \"COP\",\n        minimumFractionDigits: 0,\n        maximumFractionDigits: 0\n    }).format(amount);\n};\nconst calculateExpectedReturn = (stake, odds)=>{\n    return stake * odds;\n};\n// Cálculo individual de la apuesta\nconst calculateBetOutcome = (bet, adminCommissionPct // RENAMED for clarity: This is the % the Partner gives to Admin\n)=>{\n    let finalReturn = 0;\n    let profitGross = 0;\n    switch(bet.status){\n        case \"WON\":\n            finalReturn = calculateExpectedReturn(bet.stakeCOP, bet.oddsDecimal);\n            profitGross = finalReturn - bet.stakeCOP;\n            break;\n        case \"LOST\":\n            finalReturn = 0;\n            profitGross = -bet.stakeCOP;\n            break;\n        case \"CASHED_OUT\":\n            // En Cashout, el finalReturn es EXACTAMENTE lo que paga la casa\n            finalReturn = bet.cashoutReturnCOP || 0;\n            profitGross = finalReturn - bet.stakeCOP;\n            break;\n        case \"VOID\":\n            finalReturn = bet.stakeCOP;\n            profitGross = 0;\n            break;\n        case \"PENDING\":\n        default:\n            return {\n                finalReturn: 0,\n                profitGross: 0,\n                profitPartner: 0,\n                profitAdmin: 0\n            };\n    }\n    let profitPartner = 0;\n    let profitAdmin = 0;\n    // REGLA: El Admin cobra comisión SOLO si hay ganancia bruta positiva.\n    if (profitGross > 0) {\n        // CORRECCIÓN: adminCommissionPct es lo que el socio LE PAGA al admin (ej: 30%).\n        profitAdmin = profitGross * (adminCommissionPct / 100);\n        profitPartner = profitGross - profitAdmin;\n    } else if (profitGross < 0) {\n        // Si pierde, la pérdida es 100% del socio (se resta de su utilidad neta global)\n        profitPartner = profitGross;\n        profitAdmin = 0;\n    } else {\n        // VOID o Empate\n        profitPartner = 0;\n        profitAdmin = 0;\n    }\n    return {\n        finalReturn,\n        profitGross,\n        profitPartner,\n        profitAdmin\n    };\n};\nconst calculateDashboardStats = function(bets, partners, selectedPartnerId) {\n    let funds = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : [], withdrawals = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : [];\n    const isGlobal = selectedPartnerId === \"ALL\";\n    // 1. FILTRADO\n    const relevantBets = isGlobal ? bets : bets.filter((b)=>b.partnerId === selectedPartnerId);\n    const relevantFunds = isGlobal ? funds : funds.filter((f)=>f.partnerId === selectedPartnerId || f.scope === \"GENERAL\" && selectedPartnerId === \"ALL\");\n    const relevantWithdrawals = isGlobal ? withdrawals : withdrawals.filter((w)=>w.partnerId === selectedPartnerId);\n    // 2. CAJA INICIAL (DEPOSITOS - RETIROS)\n    const totalDeposited = relevantFunds.reduce((sum, f)=>sum + f.amountCOP, 0);\n    const totalWithdrawn = relevantWithdrawals.filter((w)=>w.status === \"PAID\").reduce((sum, w)=>sum + w.amountCOP, 0);\n    const baseCapital = totalDeposited - totalWithdrawn;\n    // 3. FLUJO DE APUESTAS (CASH FLOW REAL DE LA CASA)\n    // Calculamos el saldo tal cual se ve en la casa de apuestas:\n    // Saldo = Depósitos - Retiros - Stakes(Total) + Retornos(Total)\n    let totalStaked = 0;\n    let totalReturnedReal = 0; // Lo que la casa devolvió realmente\n    let grossProfitGlobal = 0; // Ganancia bruta total\n    let netProfitPartner = 0;\n    let netProfitAdmin = 0;\n    let pendingExposure = 0;\n    relevantBets.forEach((bet)=>{\n        totalStaked += bet.stakeCOP;\n        if (bet.status === \"PENDING\") {\n            pendingExposure += bet.stakeCOP;\n            return;\n        }\n        // Obtener resultado\n        const partner = partners.find((p)=>p.partnerId === bet.partnerId);\n        const commissionPct = partner ? partner.partnerProfitPct : 0; // Default 0 if not found, usually safety check\n        const outcome = calculateBetOutcome(bet, commissionPct);\n        // Acumuladores de Caja Real (Bookie Balance)\n        totalReturnedReal += outcome.finalReturn; // Sumamos todo lo que entra (Stake + Ganancia)\n        // Acumuladores de Estadística (P&L)\n        grossProfitGlobal += outcome.profitGross;\n        netProfitPartner += outcome.profitPartner;\n        netProfitAdmin += outcome.profitAdmin;\n    });\n    // CÁLCULO DE SALDO REAL (BOOKIE BALANCE)\n    // Capital Base - Lo que aposté + Lo que volvió\n    // Ejemplo: Tengo 100. Apuesto 10. (Saldo 90). Gano 15 (Vuelven 15). Saldo = 100 - 10 + 15 = 105.\n    const currentBalance = baseCapital - totalStaked + totalReturnedReal;\n    const settledBets = relevantBets.filter((b)=>b.status !== \"PENDING\");\n    const wonBets = settledBets.filter((b)=>b.status === \"WON\" || b.status === \"CASHED_OUT\" && (b.cashoutReturnCOP || 0) > b.stakeCOP).length;\n    const winRate = settledBets.length > 0 ? wonBets / settledBets.length * 100 : 0;\n    const totalOdds = relevantBets.reduce((sum, b)=>sum + b.oddsDecimal, 0);\n    const avgOdds = relevantBets.length > 0 ? totalOdds / relevantBets.length : 0;\n    // ROI y ROAS basados en retorno real\n    const settledStaked = settledBets.reduce((sum, b)=>sum + b.stakeCOP, 0);\n    const roas = settledStaked > 0 ? totalReturnedReal / settledStaked * 100 : 0;\n    const roi = settledStaked > 0 ? grossProfitGlobal / settledStaked * 100 : 0;\n    return {\n        totalDeposited,\n        totalWithdrawn,\n        currentBalance,\n        totalStaked,\n        totalReturned: totalReturnedReal,\n        grossProfit: grossProfitGlobal,\n        netProfitPartner,\n        netProfitAdmin,\n        pendingExposure,\n        winRate,\n        avgOdds,\n        roi,\n        roas\n    };\n};\n// Generador de Libro Mayor (Ledger) con SALDO ACUMULADO REAL\nconst generateLedger = (bets, funds, withdrawals, selectedPartnerId, partners)=>{\n    const isGlobal = selectedPartnerId === \"ALL\";\n    let rawMovements = [];\n    // Helper para nombre de socio\n    const getPartnerName = (pid)=>{\n        if (!pid) return \"General\";\n        const p = partners.find((part)=>part.partnerId === pid);\n        return p ? p.name : \"Desconocido\";\n    };\n    // 1. Agregar Fondos\n    funds.forEach((f)=>{\n        // Strict filter: If viewing Carlos, ONLY show Carlos funds.\n        if (!isGlobal && f.partnerId !== selectedPartnerId) return;\n        rawMovements.push({\n            id: f.fundId,\n            date: f.date,\n            description: \"Dep\\xf3sito: \".concat(f.description),\n            partnerName: getPartnerName(f.partnerId),\n            amount: f.amountCOP,\n            type: \"CREDIT\",\n            category: \"DEPOSIT\",\n            details: f.method,\n            status: \"COMPLETED\"\n        });\n    });\n    // 2. Agregar Retiros\n    withdrawals.forEach((w)=>{\n        if (!isGlobal && w.partnerId !== selectedPartnerId) return;\n        if (w.status !== \"PAID\") return;\n        rawMovements.push({\n            id: w.withdrawalId,\n            date: w.date,\n            description: \"Retiro de Utilidades\",\n            partnerName: getPartnerName(w.partnerId),\n            amount: -w.amountCOP,\n            type: \"DEBIT\",\n            category: \"WITHDRAWAL\",\n            details: \"Transferencia\",\n            status: w.status\n        });\n    });\n    // 3. Agregar Apuestas\n    bets.forEach((b)=>{\n        if (!isGlobal && b.partnerId !== selectedPartnerId) return;\n        const pName = getPartnerName(b.partnerId);\n        // A. SALIDA DE DINERO (STAKE)\n        rawMovements.push({\n            id: \"\".concat(b.betId, \"-STAKE\"),\n            date: b.date,\n            description: \"Apuesta: \".concat(b.homeTeam, \" vs \").concat(b.awayTeam),\n            partnerName: pName,\n            amount: -b.stakeCOP,\n            type: \"DEBIT\",\n            category: \"BET_STAKE\",\n            details: \"\".concat(b.marketDescription, \" @ \").concat(b.oddsDecimal),\n            status: b.status,\n            originalBetId: b.betId\n        });\n        // B. ENTRADA DE DINERO (RETORNO / CASHOUT)\n        if (b.status !== \"PENDING\") {\n            const partner = partners.find((p)=>p.partnerId === b.partnerId);\n            const commissionPct = partner ? partner.partnerProfitPct : 0;\n            const outcome = calculateBetOutcome(b, commissionPct);\n            const cashBack = outcome.finalReturn;\n            if (cashBack > 0 || b.status === \"LOST\") {\n                rawMovements.push({\n                    id: \"\".concat(b.betId, \"-RETURN\"),\n                    date: b.date,\n                    description: b.status === \"CASHED_OUT\" ? \"Cash Out Confirmado\" : \"Retorno Apuesta\",\n                    partnerName: pName,\n                    amount: cashBack,\n                    type: \"CREDIT\",\n                    category: \"BET_RETURN\",\n                    details: b.status === \"LOST\" ? \"P\\xe9rdida Total\" : b.status === \"CASHED_OUT\" ? \"Cobro Anticipado\" : \"Ganancia Neta\",\n                    status: b.status,\n                    isZeroReturn: cashBack === 0,\n                    originalBetId: b.betId\n                });\n            }\n        }\n    });\n    // 4. ORDENAR CRONOLÓGICAMENTE\n    rawMovements.sort((a, b)=>{\n        const dateA = new Date(a.date).getTime();\n        const dateB = new Date(b.date).getTime();\n        if (dateA !== dateB) return dateA - dateB;\n        const catOrder = {\n            \"DEPOSIT\": 1,\n            \"BET_STAKE\": 2,\n            \"BET_RETURN\": 3,\n            \"WITHDRAWAL\": 4\n        };\n        const catA = catOrder[a.category] || 9;\n        const catB = catOrder[b.category] || 9;\n        if (catA !== catB) return catA - catB;\n        if (a.originalBetId && b.originalBetId) return a.originalBetId.localeCompare(b.originalBetId);\n        return a.id.localeCompare(b.id);\n    });\n    // 5. Calcular Running Balance\n    let currentBalance = 0;\n    const movementsWithBalance = rawMovements.map((m)=>{\n        currentBalance += m.amount;\n        currentBalance = Math.round(currentBalance * 100) / 100;\n        return {\n            ...m,\n            runningBalance: currentBalance\n        };\n    });\n    return movementsWithBalance.reverse();\n};\n// Generador de Reporte Profesional CSV\nconst generateProfessionalReport = (bets, partnerName, dateFrom, dateTo)=>{\n    // 1. Filter Data by Date Range\n    const filteredBets = bets.filter((b)=>{\n        const d = b.date;\n        if (dateFrom && d < dateFrom) return false;\n        if (dateTo && d > dateTo) return false;\n        return true;\n    });\n    // 2. Calculate Executive Summary Stats\n    const totalStaked = filteredBets.reduce((sum, b)=>sum + b.stakeCOP, 0);\n    const settledBets = filteredBets.filter((b)=>b.status !== \"PENDING\");\n    let totalProfit = 0;\n    let wins = 0;\n    settledBets.forEach((b)=>{\n        if (b.status === \"WON\" || b.status === \"CASHED_OUT\" && (b.cashoutReturnCOP || 0) > b.stakeCOP) wins++;\n        // Profit simple calculation for report\n        if (b.status === \"WON\") totalProfit += b.stakeCOP * b.oddsDecimal - b.stakeCOP;\n        else if (b.status === \"LOST\") totalProfit -= b.stakeCOP;\n        else if (b.status === \"CASHED_OUT\") totalProfit += (b.cashoutReturnCOP || 0) - b.stakeCOP;\n    });\n    const roi = totalStaked > 0 ? totalProfit / totalStaked * 100 : 0;\n    const winRate = settledBets.length > 0 ? wins / settledBets.length * 100 : 0;\n    // 3. Construct CSV Content\n    const rows = [];\n    // Header Section\n    rows.push([\n        \"REPORTE DE RENDIMIENTO - FENNIX EMPORIUM\"\n    ]);\n    rows.push([\n        \"Socio:,\".concat(partnerName)\n    ]);\n    rows.push([\n        \"Fecha de Generaci\\xf3n:,\".concat(new Date().toLocaleDateString())\n    ]);\n    rows.push([\n        \"Periodo:,\".concat(dateFrom || \"Inicio\", \" a \").concat(dateTo || \"Actualidad\")\n    ]);\n    rows.push([]); // Empty line\n    // Executive Summary Section\n    rows.push([\n        \"RESUMEN EJECUTIVO\"\n    ]);\n    rows.push([\n        \"--------------------------------\"\n    ]);\n    rows.push([\n        \"Operaciones Totales:,\".concat(filteredBets.length)\n    ]);\n    rows.push([\n        \"Capital Movido (Stake):,\".concat(totalStaked)\n    ]);\n    rows.push([\n        \"Win Rate:,\".concat(winRate.toFixed(2), \"%\")\n    ]);\n    rows.push([\n        \"ROI (Retorno s/Inversi\\xf3n):,\".concat(roi.toFixed(2), \"%\")\n    ]);\n    rows.push([\n        \"Utilidad Neta Generada:,\".concat(totalProfit)\n    ]);\n    rows.push([]); // Empty line\n    // Detail Header\n    rows.push([\n        \"DETALLE DE OPERACIONES\"\n    ]);\n    rows.push([\n        \"ID\",\n        \"Fecha\",\n        \"Evento\",\n        \"Mercado\",\n        \"Cuota\",\n        \"Inversi\\xf3n\",\n        \"Estado\",\n        \"Retorno\",\n        \"Ganancia Neta\"\n    ]);\n    // Data Rows\n    filteredBets.forEach((b)=>{\n        let ret = 0;\n        let profit = 0;\n        if (b.status === \"WON\") {\n            ret = b.stakeCOP * b.oddsDecimal;\n            profit = ret - b.stakeCOP;\n        } else if (b.status === \"LOST\") {\n            ret = 0;\n            profit = -b.stakeCOP;\n        } else if (b.status === \"CASHED_OUT\") {\n            ret = b.cashoutReturnCOP || 0;\n            profit = ret - b.stakeCOP;\n        } else if (b.status === \"VOID\") {\n            ret = b.stakeCOP;\n        }\n        rows.push([\n            b.betId,\n            b.date,\n            \"\".concat(b.homeTeam, \" v \").concat(b.awayTeam),\n            b.marketDescription,\n            b.oddsDecimal,\n            b.stakeCOP,\n            b.status,\n            ret,\n            profit\n        ]);\n    });\n    // Convert to CSV String\n    const csvContent = rows.map((e)=>e.join(\",\")).join(\"\\n\");\n    // Download Logic\n    const blob = new Blob([\n        csvContent\n    ], {\n        type: \"text/csv;charset=utf-8;\"\n    });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement(\"a\");\n    link.setAttribute(\"href\", url);\n    link.setAttribute(\"download\", \"Reporte_Fennix_\".concat(partnerName, \"_\").concat(new Date().toISOString().split(\"T\")[0], \".csv\"));\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3V0aWxzL2NhbGN1bGF0aW9ucy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFFTyxNQUFNQSxpQkFBaUIsQ0FBQ0M7SUFDN0IsT0FBTyxJQUFJQyxLQUFLQyxZQUFZLENBQUMsU0FBUztRQUNwQ0MsT0FBTztRQUNQQyxVQUFVO1FBQ1ZDLHVCQUF1QjtRQUN2QkMsdUJBQXVCO0lBQ3pCLEdBQUdDLE1BQU0sQ0FBQ1A7QUFDWixFQUFFO0FBRUssTUFBTVEsMEJBQTBCLENBQUNDLE9BQWVDO0lBQ3JELE9BQU9ELFFBQVFDO0FBQ2pCLEVBQUU7QUFFRixtQ0FBbUM7QUFDNUIsTUFBTUMsc0JBQXNCLENBQ2pDQyxLQUNBQyxtQkFBMkIsZ0VBQWdFOztJQUUzRixJQUFJQyxjQUFjO0lBQ2xCLElBQUlDLGNBQWM7SUFFbEIsT0FBUUgsSUFBSUksTUFBTTtRQUNoQixLQUFLO1lBQ0hGLGNBQWNOLHdCQUF3QkksSUFBSUssUUFBUSxFQUFFTCxJQUFJTSxXQUFXO1lBQ25FSCxjQUFjRCxjQUFjRixJQUFJSyxRQUFRO1lBQ3hDO1FBQ0YsS0FBSztZQUNISCxjQUFjO1lBQ2RDLGNBQWMsQ0FBQ0gsSUFBSUssUUFBUTtZQUMzQjtRQUNGLEtBQUs7WUFDSCxnRUFBZ0U7WUFDaEVILGNBQWNGLElBQUlPLGdCQUFnQixJQUFJO1lBQ3RDSixjQUFjRCxjQUFjRixJQUFJSyxRQUFRO1lBQ3hDO1FBQ0YsS0FBSztZQUNISCxjQUFjRixJQUFJSyxRQUFRO1lBQzFCRixjQUFjO1lBQ2Q7UUFDRixLQUFLO1FBQ0w7WUFDRSxPQUFPO2dCQUFFRCxhQUFhO2dCQUFHQyxhQUFhO2dCQUFHSyxlQUFlO2dCQUFHQyxhQUFhO1lBQUU7SUFDOUU7SUFFQSxJQUFJRCxnQkFBZ0I7SUFDcEIsSUFBSUMsY0FBYztJQUVsQixzRUFBc0U7SUFDdEUsSUFBSU4sY0FBYyxHQUFHO1FBQ25CLGdGQUFnRjtRQUNoRk0sY0FBY04sY0FBZUYsQ0FBQUEscUJBQXFCLEdBQUU7UUFDcERPLGdCQUFnQkwsY0FBY007SUFDaEMsT0FBTyxJQUFJTixjQUFjLEdBQUc7UUFDMUIsZ0ZBQWdGO1FBQ2hGSyxnQkFBZ0JMO1FBQ2hCTSxjQUFjO0lBQ2hCLE9BQU87UUFDTCxnQkFBZ0I7UUFDaEJELGdCQUFnQjtRQUNoQkMsY0FBYztJQUNoQjtJQUVBLE9BQU87UUFDTFA7UUFDQUM7UUFDQUs7UUFDQUM7SUFDRjtBQUNGLEVBQUU7QUFFSyxNQUFNQywwQkFBMEIsU0FDckNDLE1BQ0FDLFVBQ0FDO1FBQ0FDLHlFQUFnQixFQUFFLEVBQ2xCQywrRUFBNEIsRUFBRTtJQUc5QixNQUFNQyxXQUFXSCxzQkFBc0I7SUFFdkMsY0FBYztJQUNkLE1BQU1JLGVBQWVELFdBQVdMLE9BQU9BLEtBQUtPLE1BQU0sQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRUMsU0FBUyxLQUFLUDtJQUN4RSxNQUFNUSxnQkFBZ0JMLFdBQ2xCRixRQUNBQSxNQUFNSSxNQUFNLENBQUNJLENBQUFBLElBQUtBLEVBQUVGLFNBQVMsS0FBS1AscUJBQXNCUyxFQUFFQyxLQUFLLEtBQUssYUFBYVYsc0JBQXNCO0lBQzNHLE1BQU1XLHNCQUFzQlIsV0FDeEJELGNBQ0FBLFlBQVlHLE1BQU0sQ0FBQ08sQ0FBQUEsSUFBS0EsRUFBRUwsU0FBUyxLQUFLUDtJQUU1Qyx3Q0FBd0M7SUFDeEMsTUFBTWEsaUJBQWlCTCxjQUFjTSxNQUFNLENBQUMsQ0FBQ0MsS0FBS04sSUFBTU0sTUFBTU4sRUFBRU8sU0FBUyxFQUFFO0lBQzNFLE1BQU1DLGlCQUFpQk4sb0JBQW9CTixNQUFNLENBQUNPLENBQUFBLElBQUtBLEVBQUVyQixNQUFNLEtBQUssUUFBUXVCLE1BQU0sQ0FBQyxDQUFDQyxLQUFLSCxJQUFNRyxNQUFNSCxFQUFFSSxTQUFTLEVBQUU7SUFDbEgsTUFBTUUsY0FBY0wsaUJBQWlCSTtJQUVyQyxtREFBbUQ7SUFDbkQsNkRBQTZEO0lBQzdELGdFQUFnRTtJQUVoRSxJQUFJRSxjQUFjO0lBQ2xCLElBQUlDLG9CQUFvQixHQUFHLG9DQUFvQztJQUMvRCxJQUFJQyxvQkFBb0IsR0FBRyx1QkFBdUI7SUFDbEQsSUFBSUMsbUJBQW1CO0lBQ3ZCLElBQUlDLGlCQUFpQjtJQUNyQixJQUFJQyxrQkFBa0I7SUFFdEJwQixhQUFhcUIsT0FBTyxDQUFDdEMsQ0FBQUE7UUFDakJnQyxlQUFlaEMsSUFBSUssUUFBUTtRQUUzQixJQUFJTCxJQUFJSSxNQUFNLEtBQUssV0FBVztZQUMxQmlDLG1CQUFtQnJDLElBQUlLLFFBQVE7WUFDL0I7UUFDSjtRQUVBLG9CQUFvQjtRQUNwQixNQUFNa0MsVUFBVTNCLFNBQVM0QixJQUFJLENBQUNDLENBQUFBLElBQUtBLEVBQUVyQixTQUFTLEtBQUtwQixJQUFJb0IsU0FBUztRQUNoRSxNQUFNc0IsZ0JBQWdCSCxVQUFVQSxRQUFRSSxnQkFBZ0IsR0FBRyxHQUFHLCtDQUErQztRQUM3RyxNQUFNQyxVQUFVN0Msb0JBQW9CQyxLQUFLMEM7UUFFekMsNkNBQTZDO1FBQzdDVCxxQkFBcUJXLFFBQVExQyxXQUFXLEVBQUUsK0NBQStDO1FBRXpGLG9DQUFvQztRQUNwQ2dDLHFCQUFxQlUsUUFBUXpDLFdBQVc7UUFDeENnQyxvQkFBb0JTLFFBQVFwQyxhQUFhO1FBQ3pDNEIsa0JBQWtCUSxRQUFRbkMsV0FBVztJQUN6QztJQUVBLHlDQUF5QztJQUN6QywrQ0FBK0M7SUFDL0MsaUdBQWlHO0lBQ2pHLE1BQU1vQyxpQkFBaUJkLGNBQWNDLGNBQWNDO0lBRW5ELE1BQU1hLGNBQWM3QixhQUFhQyxNQUFNLENBQUNDLENBQUFBLElBQUtBLEVBQUVmLE1BQU0sS0FBSztJQUMxRCxNQUFNMkMsVUFBVUQsWUFBWTVCLE1BQU0sQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRWYsTUFBTSxLQUFLLFNBQVVlLEVBQUVmLE1BQU0sS0FBSyxnQkFBZ0IsQ0FBQ2UsRUFBRVosZ0JBQWdCLElBQUksS0FBS1ksRUFBRWQsUUFBUSxFQUFHMkMsTUFBTTtJQUMzSSxNQUFNQyxVQUFVSCxZQUFZRSxNQUFNLEdBQUcsSUFBSSxVQUFXRixZQUFZRSxNQUFNLEdBQUksTUFBTTtJQUVoRixNQUFNRSxZQUFZakMsYUFBYVUsTUFBTSxDQUFDLENBQUNDLEtBQUtULElBQU1TLE1BQU1ULEVBQUViLFdBQVcsRUFBRTtJQUN2RSxNQUFNNkMsVUFBVWxDLGFBQWErQixNQUFNLEdBQUcsSUFBSUUsWUFBWWpDLGFBQWErQixNQUFNLEdBQUc7SUFFNUUscUNBQXFDO0lBQ3JDLE1BQU1JLGdCQUFnQk4sWUFBWW5CLE1BQU0sQ0FBQyxDQUFDQyxLQUFLVCxJQUFNUyxNQUFNVCxFQUFFZCxRQUFRLEVBQUU7SUFDdkUsTUFBTWdELE9BQU9ELGdCQUFnQixJQUFJLG9CQUFxQkEsZ0JBQWlCLE1BQU07SUFDN0UsTUFBTUUsTUFBTUYsZ0JBQWdCLElBQUksb0JBQXFCQSxnQkFBaUIsTUFBTTtJQUU1RSxPQUFPO1FBQ0wxQjtRQUNBSTtRQUNBZTtRQUNBYjtRQUNBdUIsZUFBZXRCO1FBQ2Z1QixhQUFhdEI7UUFDYkM7UUFDQUM7UUFDQUM7UUFDQVk7UUFDQUU7UUFDQUc7UUFDQUQ7SUFDRjtBQUNGLEVBQUU7QUFFRiw2REFBNkQ7QUFDdEQsTUFBTUksaUJBQWlCLENBQUM5QyxNQUFhRyxPQUFlQyxhQUEyQkYsbUJBQTJCRDtJQUM3RyxNQUFNSSxXQUFXSCxzQkFBc0I7SUFDdkMsSUFBSTZDLGVBQXNCLEVBQUU7SUFFNUIsOEJBQThCO0lBQzlCLE1BQU1DLGlCQUFpQixDQUFDQztRQUNwQixJQUFJLENBQUNBLEtBQUssT0FBTztRQUNqQixNQUFNbkIsSUFBSTdCLFNBQVM0QixJQUFJLENBQUNxQixDQUFBQSxPQUFRQSxLQUFLekMsU0FBUyxLQUFLd0M7UUFDbkQsT0FBT25CLElBQUlBLEVBQUVxQixJQUFJLEdBQUc7SUFDeEI7SUFFQSxvQkFBb0I7SUFDcEJoRCxNQUFNd0IsT0FBTyxDQUFDaEIsQ0FBQUE7UUFDViw0REFBNEQ7UUFDNUQsSUFBSSxDQUFDTixZQUFZTSxFQUFFRixTQUFTLEtBQUtQLG1CQUFtQjtRQUVwRDZDLGFBQWFLLElBQUksQ0FBQztZQUNkQyxJQUFJMUMsRUFBRTJDLE1BQU07WUFDWkMsTUFBTTVDLEVBQUU0QyxJQUFJO1lBQ1pDLGFBQWEsZ0JBQTJCLE9BQWQ3QyxFQUFFNkMsV0FBVztZQUN2Q0MsYUFBYVQsZUFBZXJDLEVBQUVGLFNBQVM7WUFDdkNoQyxRQUFRa0MsRUFBRU8sU0FBUztZQUNuQndDLE1BQU07WUFDTkMsVUFBVTtZQUNWQyxTQUFTakQsRUFBRWtELE1BQU07WUFDakJwRSxRQUFRO1FBQ1o7SUFDSjtJQUVBLHFCQUFxQjtJQUNyQlcsWUFBWXVCLE9BQU8sQ0FBQ2IsQ0FBQUE7UUFDaEIsSUFBSSxDQUFDVCxZQUFZUyxFQUFFTCxTQUFTLEtBQUtQLG1CQUFtQjtRQUNwRCxJQUFJWSxFQUFFckIsTUFBTSxLQUFLLFFBQVE7UUFDekJzRCxhQUFhSyxJQUFJLENBQUM7WUFDZEMsSUFBSXZDLEVBQUVnRCxZQUFZO1lBQ2xCUCxNQUFNekMsRUFBRXlDLElBQUk7WUFDWkMsYUFBYztZQUNkQyxhQUFhVCxlQUFlbEMsRUFBRUwsU0FBUztZQUN2Q2hDLFFBQVEsQ0FBQ3FDLEVBQUVJLFNBQVM7WUFDcEJ3QyxNQUFNO1lBQ05DLFVBQVU7WUFDVkMsU0FBUztZQUNUbkUsUUFBUXFCLEVBQUVyQixNQUFNO1FBQ3BCO0lBQ0o7SUFFQSxzQkFBc0I7SUFDdEJPLEtBQUsyQixPQUFPLENBQUNuQixDQUFBQTtRQUNULElBQUksQ0FBQ0gsWUFBWUcsRUFBRUMsU0FBUyxLQUFLUCxtQkFBbUI7UUFFcEQsTUFBTTZELFFBQVFmLGVBQWV4QyxFQUFFQyxTQUFTO1FBRXhDLDhCQUE4QjtRQUM5QnNDLGFBQWFLLElBQUksQ0FBQztZQUNkQyxJQUFJLEdBQVcsT0FBUjdDLEVBQUV3RCxLQUFLLEVBQUM7WUFDZlQsTUFBTS9DLEVBQUUrQyxJQUFJO1lBQ1pDLGFBQWEsWUFBNkJoRCxPQUFqQkEsRUFBRXlELFFBQVEsRUFBQyxRQUFpQixPQUFYekQsRUFBRTBELFFBQVE7WUFDcERULGFBQWFNO1lBQ2J0RixRQUFRLENBQUMrQixFQUFFZCxRQUFRO1lBQ25CZ0UsTUFBTTtZQUNOQyxVQUFVO1lBQ1ZDLFNBQVMsR0FBNEJwRCxPQUF6QkEsRUFBRTJELGlCQUFpQixFQUFDLE9BQW1CLE9BQWQzRCxFQUFFYixXQUFXO1lBQ2xERixRQUFRZSxFQUFFZixNQUFNO1lBQ2hCMkUsZUFBZTVELEVBQUV3RCxLQUFLO1FBQzFCO1FBRUEsMkNBQTJDO1FBQzNDLElBQUl4RCxFQUFFZixNQUFNLEtBQUssV0FBVztZQUN4QixNQUFNbUMsVUFBVTNCLFNBQVM0QixJQUFJLENBQUNDLENBQUFBLElBQUtBLEVBQUVyQixTQUFTLEtBQUtELEVBQUVDLFNBQVM7WUFDOUQsTUFBTXNCLGdCQUFnQkgsVUFBVUEsUUFBUUksZ0JBQWdCLEdBQUc7WUFDM0QsTUFBTUMsVUFBVTdDLG9CQUFvQm9CLEdBQUd1QjtZQUV2QyxNQUFNc0MsV0FBV3BDLFFBQVExQyxXQUFXO1lBRXBDLElBQUk4RSxXQUFXLEtBQUs3RCxFQUFFZixNQUFNLEtBQUssUUFBUTtnQkFDcENzRCxhQUFhSyxJQUFJLENBQUM7b0JBQ2ZDLElBQUksR0FBVyxPQUFSN0MsRUFBRXdELEtBQUssRUFBQztvQkFDZlQsTUFBTS9DLEVBQUUrQyxJQUFJO29CQUNaQyxhQUFhaEQsRUFBRWYsTUFBTSxLQUFLLGVBQWUsd0JBQXdCO29CQUNqRWdFLGFBQWFNO29CQUNidEYsUUFBUTRGO29CQUNSWCxNQUFNO29CQUNOQyxVQUFVO29CQUNWQyxTQUFTcEQsRUFBRWYsTUFBTSxLQUFLLFNBQVMscUJBQW1CZSxFQUFFZixNQUFNLEtBQUssZUFBZSxxQkFBcUI7b0JBQ25HQSxRQUFRZSxFQUFFZixNQUFNO29CQUNoQjZFLGNBQWNELGFBQWE7b0JBQzNCRCxlQUFlNUQsRUFBRXdELEtBQUs7Z0JBQzFCO1lBQ0o7UUFDSjtJQUNKO0lBRUEsOEJBQThCO0lBQzlCakIsYUFBYXdCLElBQUksQ0FBQyxDQUFDQyxHQUFHaEU7UUFDbEIsTUFBTWlFLFFBQVEsSUFBSUMsS0FBS0YsRUFBRWpCLElBQUksRUFBRW9CLE9BQU87UUFDdEMsTUFBTUMsUUFBUSxJQUFJRixLQUFLbEUsRUFBRStDLElBQUksRUFBRW9CLE9BQU87UUFDdEMsSUFBSUYsVUFBVUcsT0FBTyxPQUFPSCxRQUFRRztRQUVwQyxNQUFNQyxXQUFXO1lBQUUsV0FBVztZQUFHLGFBQWE7WUFBRyxjQUFjO1lBQUcsY0FBYztRQUFFO1FBQ2xGLE1BQU1DLE9BQU9ELFFBQVEsQ0FBQ0wsRUFBRWIsUUFBUSxDQUEwQixJQUFJO1FBQzlELE1BQU1vQixPQUFPRixRQUFRLENBQUNyRSxFQUFFbUQsUUFBUSxDQUEwQixJQUFJO1FBQzlELElBQUltQixTQUFTQyxNQUFNLE9BQU9ELE9BQU9DO1FBRWpDLElBQUlQLEVBQUVKLGFBQWEsSUFBSTVELEVBQUU0RCxhQUFhLEVBQUUsT0FBT0ksRUFBRUosYUFBYSxDQUFDWSxhQUFhLENBQUN4RSxFQUFFNEQsYUFBYTtRQUM1RixPQUFPSSxFQUFFbkIsRUFBRSxDQUFDMkIsYUFBYSxDQUFDeEUsRUFBRTZDLEVBQUU7SUFDbEM7SUFFQSw4QkFBOEI7SUFDOUIsSUFBSW5CLGlCQUFpQjtJQUNyQixNQUFNK0MsdUJBQXVCbEMsYUFBYW1DLEdBQUcsQ0FBQ0MsQ0FBQUE7UUFDMUNqRCxrQkFBa0JpRCxFQUFFMUcsTUFBTTtRQUMxQnlELGlCQUFpQmtELEtBQUtDLEtBQUssQ0FBQ25ELGlCQUFpQixPQUFPO1FBQ3BELE9BQU87WUFBRSxHQUFHaUQsQ0FBQztZQUFFRyxnQkFBZ0JwRDtRQUFlO0lBQ2xEO0lBRUEsT0FBTytDLHFCQUFxQk0sT0FBTztBQUN2QyxFQUFFO0FBRUYsdUNBQXVDO0FBQ2hDLE1BQU1DLDZCQUE2QixDQUN0Q3hGLE1BQ0F5RCxhQUNBZ0MsVUFDQUM7SUFFRiwrQkFBK0I7SUFDL0IsTUFBTUMsZUFBZTNGLEtBQUtPLE1BQU0sQ0FBQ0MsQ0FBQUE7UUFDN0IsTUFBTW9GLElBQUlwRixFQUFFK0MsSUFBSTtRQUNoQixJQUFJa0MsWUFBWUcsSUFBSUgsVUFBVSxPQUFPO1FBQ3JDLElBQUlDLFVBQVVFLElBQUlGLFFBQVEsT0FBTztRQUNqQyxPQUFPO0lBQ1g7SUFFQSx1Q0FBdUM7SUFDdkMsTUFBTXJFLGNBQWNzRSxhQUFhM0UsTUFBTSxDQUFDLENBQUNDLEtBQUtULElBQU1TLE1BQU1ULEVBQUVkLFFBQVEsRUFBRTtJQUN0RSxNQUFNeUMsY0FBY3dELGFBQWFwRixNQUFNLENBQUNDLENBQUFBLElBQUtBLEVBQUVmLE1BQU0sS0FBSztJQUMxRCxJQUFJb0csY0FBYztJQUNsQixJQUFJQyxPQUFPO0lBRVgzRCxZQUFZUixPQUFPLENBQUNuQixDQUFBQTtRQUNqQixJQUFJQSxFQUFFZixNQUFNLEtBQUssU0FBVWUsRUFBRWYsTUFBTSxLQUFLLGdCQUFnQixDQUFDZSxFQUFFWixnQkFBZ0IsSUFBSSxLQUFLWSxFQUFFZCxRQUFRLEVBQUdvRztRQUVqRyx1Q0FBdUM7UUFDdkMsSUFBSXRGLEVBQUVmLE1BQU0sS0FBSyxPQUFPb0csZUFBZSxFQUFHbkcsUUFBUSxHQUFHYyxFQUFFYixXQUFXLEdBQUlhLEVBQUVkLFFBQVE7YUFDM0UsSUFBSWMsRUFBRWYsTUFBTSxLQUFLLFFBQVFvRyxlQUFlckYsRUFBRWQsUUFBUTthQUNsRCxJQUFJYyxFQUFFZixNQUFNLEtBQUssY0FBY29HLGVBQWUsQ0FBQ3JGLEVBQUVaLGdCQUFnQixJQUFJLEtBQUtZLEVBQUVkLFFBQVE7SUFDNUY7SUFFQSxNQUFNaUQsTUFBTXRCLGNBQWMsSUFBSSxjQUFlQSxjQUFlLE1BQU07SUFDbEUsTUFBTWlCLFVBQVVILFlBQVlFLE1BQU0sR0FBRyxJQUFJLE9BQVFGLFlBQVlFLE1BQU0sR0FBSSxNQUFNO0lBRTdFLDJCQUEyQjtJQUMzQixNQUFNMEQsT0FBTyxFQUFFO0lBRWYsaUJBQWlCO0lBQ2pCQSxLQUFLM0MsSUFBSSxDQUFDO1FBQUM7S0FBMkM7SUFDdEQyQyxLQUFLM0MsSUFBSSxDQUFDO1FBQUUsVUFBcUIsT0FBWks7S0FBYztJQUNuQ3NDLEtBQUszQyxJQUFJLENBQUM7UUFBRSwyQkFBdUQsT0FBaEMsSUFBSXNCLE9BQU9zQixrQkFBa0I7S0FBSztJQUNyRUQsS0FBSzNDLElBQUksQ0FBQztRQUFFLFlBQXFDc0MsT0FBMUJELFlBQVksVUFBUyxPQUE0QixPQUF2QkMsVUFBVTtLQUFlO0lBQzFFSyxLQUFLM0MsSUFBSSxDQUFDLEVBQUUsR0FBRyxhQUFhO0lBRTVCLDRCQUE0QjtJQUM1QjJDLEtBQUszQyxJQUFJLENBQUM7UUFBQztLQUFvQjtJQUMvQjJDLEtBQUszQyxJQUFJLENBQUM7UUFBQztLQUFtQztJQUM5QzJDLEtBQUszQyxJQUFJLENBQUM7UUFBRSx3QkFBMkMsT0FBcEJ1QyxhQUFhdEQsTUFBTTtLQUFHO0lBQ3pEMEQsS0FBSzNDLElBQUksQ0FBQztRQUFFLDJCQUFzQyxPQUFaL0I7S0FBYztJQUNwRDBFLEtBQUszQyxJQUFJLENBQUM7UUFBRSxhQUErQixPQUFuQmQsUUFBUTJELE9BQU8sQ0FBQyxJQUFHO0tBQUc7SUFDOUNGLEtBQUszQyxJQUFJLENBQUM7UUFBRSxpQ0FBNEMsT0FBZlQsSUFBSXNELE9BQU8sQ0FBQyxJQUFHO0tBQUc7SUFDM0RGLEtBQUszQyxJQUFJLENBQUM7UUFBRSwyQkFBc0MsT0FBWnlDO0tBQWM7SUFDcERFLEtBQUszQyxJQUFJLENBQUMsRUFBRSxHQUFHLGFBQWE7SUFFNUIsZ0JBQWdCO0lBQ2hCMkMsS0FBSzNDLElBQUksQ0FBQztRQUFDO0tBQXlCO0lBQ3BDMkMsS0FBSzNDLElBQUksQ0FBQztRQUFDO1FBQU07UUFBUztRQUFVO1FBQVc7UUFBUztRQUFhO1FBQVU7UUFBVztLQUFnQjtJQUUxRyxZQUFZO0lBQ1p1QyxhQUFhaEUsT0FBTyxDQUFDbkIsQ0FBQUE7UUFDakIsSUFBSTBGLE1BQU07UUFDVixJQUFJQyxTQUFTO1FBRWIsSUFBSTNGLEVBQUVmLE1BQU0sS0FBSyxPQUFPO1lBQ3BCeUcsTUFBTTFGLEVBQUVkLFFBQVEsR0FBR2MsRUFBRWIsV0FBVztZQUNoQ3dHLFNBQVNELE1BQU0xRixFQUFFZCxRQUFRO1FBQzdCLE9BQU8sSUFBSWMsRUFBRWYsTUFBTSxLQUFLLFFBQVE7WUFDNUJ5RyxNQUFNO1lBQ05DLFNBQVMsQ0FBQzNGLEVBQUVkLFFBQVE7UUFDeEIsT0FBTyxJQUFJYyxFQUFFZixNQUFNLEtBQUssY0FBYztZQUNsQ3lHLE1BQU0xRixFQUFFWixnQkFBZ0IsSUFBSTtZQUM1QnVHLFNBQVNELE1BQU0xRixFQUFFZCxRQUFRO1FBQzdCLE9BQU8sSUFBSWMsRUFBRWYsTUFBTSxLQUFLLFFBQVE7WUFDNUJ5RyxNQUFNMUYsRUFBRWQsUUFBUTtRQUNwQjtRQUVBcUcsS0FBSzNDLElBQUksQ0FBQztZQUNONUMsRUFBRXdELEtBQUs7WUFDUHhELEVBQUUrQyxJQUFJO1lBQ0wsR0FBa0IvQyxPQUFoQkEsRUFBRXlELFFBQVEsRUFBQyxPQUFnQixPQUFYekQsRUFBRTBELFFBQVE7WUFDN0IxRCxFQUFFMkQsaUJBQWlCO1lBQ25CM0QsRUFBRWIsV0FBVztZQUNiYSxFQUFFZCxRQUFRO1lBQ1ZjLEVBQUVmLE1BQU07WUFDUnlHO1lBQ0FDO1NBQ0g7SUFDTDtJQUVBLHdCQUF3QjtJQUN4QixNQUFNQyxhQUFhTCxLQUFLYixHQUFHLENBQUNtQixDQUFBQSxJQUFLQSxFQUFFQyxJQUFJLENBQUMsTUFBTUEsSUFBSSxDQUFDO0lBRW5ELGlCQUFpQjtJQUNqQixNQUFNQyxPQUFPLElBQUlDLEtBQUs7UUFBQ0o7S0FBVyxFQUFFO1FBQUUxQyxNQUFNO0lBQTBCO0lBQ3RFLE1BQU0rQyxNQUFNQyxJQUFJQyxlQUFlLENBQUNKO0lBQ2hDLE1BQU1LLE9BQU9DLFNBQVNDLGFBQWEsQ0FBQztJQUNwQ0YsS0FBS0csWUFBWSxDQUFDLFFBQVFOO0lBQzFCRyxLQUFLRyxZQUFZLENBQUMsWUFBWSxrQkFBaUMsT0FBZnRELGFBQVksS0FBMEMsT0FBdkMsSUFBSWlCLE9BQU9zQyxXQUFXLEdBQUdDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFDO0lBQ3RHSixTQUFTSyxJQUFJLENBQUNDLFdBQVcsQ0FBQ1A7SUFDMUJBLEtBQUtRLEtBQUs7SUFDVlAsU0FBU0ssSUFBSSxDQUFDRyxXQUFXLENBQUNUO0FBQzVCLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vdXRpbHMvY2FsY3VsYXRpb25zLnRzP2ZjNmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmV0LCBQYXJ0bmVyLCBEYXNoYm9hcmRTdGF0cywgRnVuZCwgV2l0aGRyYXdhbCwgTW92ZW1lbnQgfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBmb3JtYXRDdXJyZW5jeSA9IChhbW91bnQ6IG51bWJlcik6IHN0cmluZyA9PiB7XG4gIHJldHVybiBuZXcgSW50bC5OdW1iZXJGb3JtYXQoJ2VzLUNPJywge1xuICAgIHN0eWxlOiAnY3VycmVuY3knLFxuICAgIGN1cnJlbmN5OiAnQ09QJyxcbiAgICBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDAsXG4gICAgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAwLFxuICB9KS5mb3JtYXQoYW1vdW50KTtcbn07XG5cbmV4cG9ydCBjb25zdCBjYWxjdWxhdGVFeHBlY3RlZFJldHVybiA9IChzdGFrZTogbnVtYmVyLCBvZGRzOiBudW1iZXIpOiBudW1iZXIgPT4ge1xuICByZXR1cm4gc3Rha2UgKiBvZGRzO1xufTtcblxuLy8gQ8OhbGN1bG8gaW5kaXZpZHVhbCBkZSBsYSBhcHVlc3RhXG5leHBvcnQgY29uc3QgY2FsY3VsYXRlQmV0T3V0Y29tZSA9IChcbiAgYmV0OiBCZXQsXG4gIGFkbWluQ29tbWlzc2lvblBjdDogbnVtYmVyIC8vIFJFTkFNRUQgZm9yIGNsYXJpdHk6IFRoaXMgaXMgdGhlICUgdGhlIFBhcnRuZXIgZ2l2ZXMgdG8gQWRtaW5cbik6IHsgZmluYWxSZXR1cm46IG51bWJlcjsgcHJvZml0R3Jvc3M6IG51bWJlcjsgcHJvZml0UGFydG5lcjogbnVtYmVyOyBwcm9maXRBZG1pbjogbnVtYmVyIH0gPT4ge1xuICBsZXQgZmluYWxSZXR1cm4gPSAwO1xuICBsZXQgcHJvZml0R3Jvc3MgPSAwO1xuXG4gIHN3aXRjaCAoYmV0LnN0YXR1cykge1xuICAgIGNhc2UgJ1dPTic6XG4gICAgICBmaW5hbFJldHVybiA9IGNhbGN1bGF0ZUV4cGVjdGVkUmV0dXJuKGJldC5zdGFrZUNPUCwgYmV0Lm9kZHNEZWNpbWFsKTtcbiAgICAgIHByb2ZpdEdyb3NzID0gZmluYWxSZXR1cm4gLSBiZXQuc3Rha2VDT1A7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdMT1NUJzpcbiAgICAgIGZpbmFsUmV0dXJuID0gMDtcbiAgICAgIHByb2ZpdEdyb3NzID0gLWJldC5zdGFrZUNPUDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ0NBU0hFRF9PVVQnOlxuICAgICAgLy8gRW4gQ2FzaG91dCwgZWwgZmluYWxSZXR1cm4gZXMgRVhBQ1RBTUVOVEUgbG8gcXVlIHBhZ2EgbGEgY2FzYVxuICAgICAgZmluYWxSZXR1cm4gPSBiZXQuY2FzaG91dFJldHVybkNPUCB8fCAwO1xuICAgICAgcHJvZml0R3Jvc3MgPSBmaW5hbFJldHVybiAtIGJldC5zdGFrZUNPUDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ1ZPSUQnOlxuICAgICAgZmluYWxSZXR1cm4gPSBiZXQuc3Rha2VDT1A7XG4gICAgICBwcm9maXRHcm9zcyA9IDA7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdQRU5ESU5HJzpcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHsgZmluYWxSZXR1cm46IDAsIHByb2ZpdEdyb3NzOiAwLCBwcm9maXRQYXJ0bmVyOiAwLCBwcm9maXRBZG1pbjogMCB9O1xuICB9XG5cbiAgbGV0IHByb2ZpdFBhcnRuZXIgPSAwO1xuICBsZXQgcHJvZml0QWRtaW4gPSAwO1xuXG4gIC8vIFJFR0xBOiBFbCBBZG1pbiBjb2JyYSBjb21pc2nDs24gU09MTyBzaSBoYXkgZ2FuYW5jaWEgYnJ1dGEgcG9zaXRpdmEuXG4gIGlmIChwcm9maXRHcm9zcyA+IDApIHtcbiAgICAvLyBDT1JSRUNDScOTTjogYWRtaW5Db21taXNzaW9uUGN0IGVzIGxvIHF1ZSBlbCBzb2NpbyBMRSBQQUdBIGFsIGFkbWluIChlajogMzAlKS5cbiAgICBwcm9maXRBZG1pbiA9IHByb2ZpdEdyb3NzICogKGFkbWluQ29tbWlzc2lvblBjdCAvIDEwMCk7XG4gICAgcHJvZml0UGFydG5lciA9IHByb2ZpdEdyb3NzIC0gcHJvZml0QWRtaW47XG4gIH0gZWxzZSBpZiAocHJvZml0R3Jvc3MgPCAwKSB7XG4gICAgLy8gU2kgcGllcmRlLCBsYSBww6lyZGlkYSBlcyAxMDAlIGRlbCBzb2NpbyAoc2UgcmVzdGEgZGUgc3UgdXRpbGlkYWQgbmV0YSBnbG9iYWwpXG4gICAgcHJvZml0UGFydG5lciA9IHByb2ZpdEdyb3NzOyBcbiAgICBwcm9maXRBZG1pbiA9IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gVk9JRCBvIEVtcGF0ZVxuICAgIHByb2ZpdFBhcnRuZXIgPSAwO1xuICAgIHByb2ZpdEFkbWluID0gMDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZmluYWxSZXR1cm4sXG4gICAgcHJvZml0R3Jvc3MsXG4gICAgcHJvZml0UGFydG5lcixcbiAgICBwcm9maXRBZG1pbixcbiAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBjYWxjdWxhdGVEYXNoYm9hcmRTdGF0cyA9IChcbiAgYmV0czogQmV0W10sIFxuICBwYXJ0bmVyczogUGFydG5lcltdLCBcbiAgc2VsZWN0ZWRQYXJ0bmVySWQ6IHN0cmluZyxcbiAgZnVuZHM6IEZ1bmRbXSA9IFtdLFxuICB3aXRoZHJhd2FsczogV2l0aGRyYXdhbFtdID0gW11cbik6IERhc2hib2FyZFN0YXRzID0+IHtcbiAgXG4gIGNvbnN0IGlzR2xvYmFsID0gc2VsZWN0ZWRQYXJ0bmVySWQgPT09ICdBTEwnO1xuICBcbiAgLy8gMS4gRklMVFJBRE9cbiAgY29uc3QgcmVsZXZhbnRCZXRzID0gaXNHbG9iYWwgPyBiZXRzIDogYmV0cy5maWx0ZXIoYiA9PiBiLnBhcnRuZXJJZCA9PT0gc2VsZWN0ZWRQYXJ0bmVySWQpO1xuICBjb25zdCByZWxldmFudEZ1bmRzID0gaXNHbG9iYWwgXG4gICAgPyBmdW5kcyBcbiAgICA6IGZ1bmRzLmZpbHRlcihmID0+IGYucGFydG5lcklkID09PSBzZWxlY3RlZFBhcnRuZXJJZCB8fCAoZi5zY29wZSA9PT0gJ0dFTkVSQUwnICYmIHNlbGVjdGVkUGFydG5lcklkID09PSAnQUxMJykpO1xuICBjb25zdCByZWxldmFudFdpdGhkcmF3YWxzID0gaXNHbG9iYWxcbiAgICA/IHdpdGhkcmF3YWxzXG4gICAgOiB3aXRoZHJhd2Fscy5maWx0ZXIodyA9PiB3LnBhcnRuZXJJZCA9PT0gc2VsZWN0ZWRQYXJ0bmVySWQpO1xuXG4gIC8vIDIuIENBSkEgSU5JQ0lBTCAoREVQT1NJVE9TIC0gUkVUSVJPUylcbiAgY29uc3QgdG90YWxEZXBvc2l0ZWQgPSByZWxldmFudEZ1bmRzLnJlZHVjZSgoc3VtLCBmKSA9PiBzdW0gKyBmLmFtb3VudENPUCwgMCk7XG4gIGNvbnN0IHRvdGFsV2l0aGRyYXduID0gcmVsZXZhbnRXaXRoZHJhd2Fscy5maWx0ZXIodyA9PiB3LnN0YXR1cyA9PT0gJ1BBSUQnKS5yZWR1Y2UoKHN1bSwgdykgPT4gc3VtICsgdy5hbW91bnRDT1AsIDApO1xuICBjb25zdCBiYXNlQ2FwaXRhbCA9IHRvdGFsRGVwb3NpdGVkIC0gdG90YWxXaXRoZHJhd247XG5cbiAgLy8gMy4gRkxVSk8gREUgQVBVRVNUQVMgKENBU0ggRkxPVyBSRUFMIERFIExBIENBU0EpXG4gIC8vIENhbGN1bGFtb3MgZWwgc2FsZG8gdGFsIGN1YWwgc2UgdmUgZW4gbGEgY2FzYSBkZSBhcHVlc3RhczpcbiAgLy8gU2FsZG8gPSBEZXDDs3NpdG9zIC0gUmV0aXJvcyAtIFN0YWtlcyhUb3RhbCkgKyBSZXRvcm5vcyhUb3RhbClcbiAgXG4gIGxldCB0b3RhbFN0YWtlZCA9IDA7IFxuICBsZXQgdG90YWxSZXR1cm5lZFJlYWwgPSAwOyAvLyBMbyBxdWUgbGEgY2FzYSBkZXZvbHZpw7MgcmVhbG1lbnRlXG4gIGxldCBncm9zc1Byb2ZpdEdsb2JhbCA9IDA7IC8vIEdhbmFuY2lhIGJydXRhIHRvdGFsXG4gIGxldCBuZXRQcm9maXRQYXJ0bmVyID0gMDtcbiAgbGV0IG5ldFByb2ZpdEFkbWluID0gMDtcbiAgbGV0IHBlbmRpbmdFeHBvc3VyZSA9IDA7XG5cbiAgcmVsZXZhbnRCZXRzLmZvckVhY2goYmV0ID0+IHtcbiAgICAgIHRvdGFsU3Rha2VkICs9IGJldC5zdGFrZUNPUDtcblxuICAgICAgaWYgKGJldC5zdGF0dXMgPT09ICdQRU5ESU5HJykge1xuICAgICAgICAgIHBlbmRpbmdFeHBvc3VyZSArPSBiZXQuc3Rha2VDT1A7XG4gICAgICAgICAgcmV0dXJuOyBcbiAgICAgIH1cblxuICAgICAgLy8gT2J0ZW5lciByZXN1bHRhZG9cbiAgICAgIGNvbnN0IHBhcnRuZXIgPSBwYXJ0bmVycy5maW5kKHAgPT4gcC5wYXJ0bmVySWQgPT09IGJldC5wYXJ0bmVySWQpO1xuICAgICAgY29uc3QgY29tbWlzc2lvblBjdCA9IHBhcnRuZXIgPyBwYXJ0bmVyLnBhcnRuZXJQcm9maXRQY3QgOiAwOyAvLyBEZWZhdWx0IDAgaWYgbm90IGZvdW5kLCB1c3VhbGx5IHNhZmV0eSBjaGVja1xuICAgICAgY29uc3Qgb3V0Y29tZSA9IGNhbGN1bGF0ZUJldE91dGNvbWUoYmV0LCBjb21taXNzaW9uUGN0KTtcblxuICAgICAgLy8gQWN1bXVsYWRvcmVzIGRlIENhamEgUmVhbCAoQm9va2llIEJhbGFuY2UpXG4gICAgICB0b3RhbFJldHVybmVkUmVhbCArPSBvdXRjb21lLmZpbmFsUmV0dXJuOyAvLyBTdW1hbW9zIHRvZG8gbG8gcXVlIGVudHJhIChTdGFrZSArIEdhbmFuY2lhKVxuICAgICAgXG4gICAgICAvLyBBY3VtdWxhZG9yZXMgZGUgRXN0YWTDrXN0aWNhIChQJkwpXG4gICAgICBncm9zc1Byb2ZpdEdsb2JhbCArPSBvdXRjb21lLnByb2ZpdEdyb3NzO1xuICAgICAgbmV0UHJvZml0UGFydG5lciArPSBvdXRjb21lLnByb2ZpdFBhcnRuZXI7XG4gICAgICBuZXRQcm9maXRBZG1pbiArPSBvdXRjb21lLnByb2ZpdEFkbWluO1xuICB9KTtcblxuICAvLyBDw4FMQ1VMTyBERSBTQUxETyBSRUFMIChCT09LSUUgQkFMQU5DRSlcbiAgLy8gQ2FwaXRhbCBCYXNlIC0gTG8gcXVlIGFwb3N0w6kgKyBMbyBxdWUgdm9sdmnDs1xuICAvLyBFamVtcGxvOiBUZW5nbyAxMDAuIEFwdWVzdG8gMTAuIChTYWxkbyA5MCkuIEdhbm8gMTUgKFZ1ZWx2ZW4gMTUpLiBTYWxkbyA9IDEwMCAtIDEwICsgMTUgPSAxMDUuXG4gIGNvbnN0IGN1cnJlbnRCYWxhbmNlID0gYmFzZUNhcGl0YWwgLSB0b3RhbFN0YWtlZCArIHRvdGFsUmV0dXJuZWRSZWFsO1xuXG4gIGNvbnN0IHNldHRsZWRCZXRzID0gcmVsZXZhbnRCZXRzLmZpbHRlcihiID0+IGIuc3RhdHVzICE9PSAnUEVORElORycpO1xuICBjb25zdCB3b25CZXRzID0gc2V0dGxlZEJldHMuZmlsdGVyKGIgPT4gYi5zdGF0dXMgPT09ICdXT04nIHx8IChiLnN0YXR1cyA9PT0gJ0NBU0hFRF9PVVQnICYmIChiLmNhc2hvdXRSZXR1cm5DT1AgfHwgMCkgPiBiLnN0YWtlQ09QKSkubGVuZ3RoO1xuICBjb25zdCB3aW5SYXRlID0gc2V0dGxlZEJldHMubGVuZ3RoID4gMCA/ICh3b25CZXRzIC8gc2V0dGxlZEJldHMubGVuZ3RoKSAqIDEwMCA6IDA7XG4gIFxuICBjb25zdCB0b3RhbE9kZHMgPSByZWxldmFudEJldHMucmVkdWNlKChzdW0sIGIpID0+IHN1bSArIGIub2Rkc0RlY2ltYWwsIDApO1xuICBjb25zdCBhdmdPZGRzID0gcmVsZXZhbnRCZXRzLmxlbmd0aCA+IDAgPyB0b3RhbE9kZHMgLyByZWxldmFudEJldHMubGVuZ3RoIDogMDtcblxuICAvLyBST0kgeSBST0FTIGJhc2Fkb3MgZW4gcmV0b3JubyByZWFsXG4gIGNvbnN0IHNldHRsZWRTdGFrZWQgPSBzZXR0bGVkQmV0cy5yZWR1Y2UoKHN1bSwgYikgPT4gc3VtICsgYi5zdGFrZUNPUCwgMCk7XG4gIGNvbnN0IHJvYXMgPSBzZXR0bGVkU3Rha2VkID4gMCA/ICh0b3RhbFJldHVybmVkUmVhbCAvIHNldHRsZWRTdGFrZWQpICogMTAwIDogMDtcbiAgY29uc3Qgcm9pID0gc2V0dGxlZFN0YWtlZCA+IDAgPyAoZ3Jvc3NQcm9maXRHbG9iYWwgLyBzZXR0bGVkU3Rha2VkKSAqIDEwMCA6IDA7XG5cbiAgcmV0dXJuIHtcbiAgICB0b3RhbERlcG9zaXRlZCxcbiAgICB0b3RhbFdpdGhkcmF3bixcbiAgICBjdXJyZW50QmFsYW5jZSwgLy8gRXN0ZSBlcyBlbCBzYWxkbyBSRUFMIHF1ZSBkZWJlIGNvaW5jaWRpciBjb24gQmV0UGxheVxuICAgIHRvdGFsU3Rha2VkLFxuICAgIHRvdGFsUmV0dXJuZWQ6IHRvdGFsUmV0dXJuZWRSZWFsLFxuICAgIGdyb3NzUHJvZml0OiBncm9zc1Byb2ZpdEdsb2JhbCwgLy8gVXRpbGlkYWQgVG90YWwgR2VuZXJhZGFcbiAgICBuZXRQcm9maXRQYXJ0bmVyLFxuICAgIG5ldFByb2ZpdEFkbWluLFxuICAgIHBlbmRpbmdFeHBvc3VyZSxcbiAgICB3aW5SYXRlLFxuICAgIGF2Z09kZHMsXG4gICAgcm9pLFxuICAgIHJvYXNcbiAgfTtcbn07XG5cbi8vIEdlbmVyYWRvciBkZSBMaWJybyBNYXlvciAoTGVkZ2VyKSBjb24gU0FMRE8gQUNVTVVMQURPIFJFQUxcbmV4cG9ydCBjb25zdCBnZW5lcmF0ZUxlZGdlciA9IChiZXRzOiBCZXRbXSwgZnVuZHM6IEZ1bmRbXSwgd2l0aGRyYXdhbHM6IFdpdGhkcmF3YWxbXSwgc2VsZWN0ZWRQYXJ0bmVySWQ6IHN0cmluZywgcGFydG5lcnM6IFBhcnRuZXJbXSkgPT4ge1xuICAgIGNvbnN0IGlzR2xvYmFsID0gc2VsZWN0ZWRQYXJ0bmVySWQgPT09ICdBTEwnO1xuICAgIGxldCByYXdNb3ZlbWVudHM6IGFueVtdID0gW107XG5cbiAgICAvLyBIZWxwZXIgcGFyYSBub21icmUgZGUgc29jaW9cbiAgICBjb25zdCBnZXRQYXJ0bmVyTmFtZSA9IChwaWQ/OiBzdHJpbmcpID0+IHtcbiAgICAgICAgaWYgKCFwaWQpIHJldHVybiAnR2VuZXJhbCc7XG4gICAgICAgIGNvbnN0IHAgPSBwYXJ0bmVycy5maW5kKHBhcnQgPT4gcGFydC5wYXJ0bmVySWQgPT09IHBpZCk7XG4gICAgICAgIHJldHVybiBwID8gcC5uYW1lIDogJ0Rlc2Nvbm9jaWRvJztcbiAgICB9O1xuXG4gICAgLy8gMS4gQWdyZWdhciBGb25kb3NcbiAgICBmdW5kcy5mb3JFYWNoKGYgPT4ge1xuICAgICAgICAvLyBTdHJpY3QgZmlsdGVyOiBJZiB2aWV3aW5nIENhcmxvcywgT05MWSBzaG93IENhcmxvcyBmdW5kcy5cbiAgICAgICAgaWYgKCFpc0dsb2JhbCAmJiBmLnBhcnRuZXJJZCAhPT0gc2VsZWN0ZWRQYXJ0bmVySWQpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIHJhd01vdmVtZW50cy5wdXNoKHtcbiAgICAgICAgICAgIGlkOiBmLmZ1bmRJZCwgXG4gICAgICAgICAgICBkYXRlOiBmLmRhdGUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogYERlcMOzc2l0bzogJHtmLmRlc2NyaXB0aW9ufWAsXG4gICAgICAgICAgICBwYXJ0bmVyTmFtZTogZ2V0UGFydG5lck5hbWUoZi5wYXJ0bmVySWQpLFxuICAgICAgICAgICAgYW1vdW50OiBmLmFtb3VudENPUCxcbiAgICAgICAgICAgIHR5cGU6ICdDUkVESVQnLCBcbiAgICAgICAgICAgIGNhdGVnb3J5OiAnREVQT1NJVCcsXG4gICAgICAgICAgICBkZXRhaWxzOiBmLm1ldGhvZCxcbiAgICAgICAgICAgIHN0YXR1czogJ0NPTVBMRVRFRCdcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyAyLiBBZ3JlZ2FyIFJldGlyb3NcbiAgICB3aXRoZHJhd2Fscy5mb3JFYWNoKHcgPT4ge1xuICAgICAgICBpZiAoIWlzR2xvYmFsICYmIHcucGFydG5lcklkICE9PSBzZWxlY3RlZFBhcnRuZXJJZCkgcmV0dXJuO1xuICAgICAgICBpZiAody5zdGF0dXMgIT09ICdQQUlEJykgcmV0dXJuO1xuICAgICAgICByYXdNb3ZlbWVudHMucHVzaCh7XG4gICAgICAgICAgICBpZDogdy53aXRoZHJhd2FsSWQsXG4gICAgICAgICAgICBkYXRlOiB3LmRhdGUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogYFJldGlybyBkZSBVdGlsaWRhZGVzYCxcbiAgICAgICAgICAgIHBhcnRuZXJOYW1lOiBnZXRQYXJ0bmVyTmFtZSh3LnBhcnRuZXJJZCksXG4gICAgICAgICAgICBhbW91bnQ6IC13LmFtb3VudENPUCxcbiAgICAgICAgICAgIHR5cGU6ICdERUJJVCcsXG4gICAgICAgICAgICBjYXRlZ29yeTogJ1dJVEhEUkFXQUwnLFxuICAgICAgICAgICAgZGV0YWlsczogJ1RyYW5zZmVyZW5jaWEnLFxuICAgICAgICAgICAgc3RhdHVzOiB3LnN0YXR1c1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIDMuIEFncmVnYXIgQXB1ZXN0YXNcbiAgICBiZXRzLmZvckVhY2goYiA9PiB7XG4gICAgICAgIGlmICghaXNHbG9iYWwgJiYgYi5wYXJ0bmVySWQgIT09IHNlbGVjdGVkUGFydG5lcklkKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgcE5hbWUgPSBnZXRQYXJ0bmVyTmFtZShiLnBhcnRuZXJJZCk7XG5cbiAgICAgICAgLy8gQS4gU0FMSURBIERFIERJTkVSTyAoU1RBS0UpXG4gICAgICAgIHJhd01vdmVtZW50cy5wdXNoKHtcbiAgICAgICAgICAgIGlkOiBgJHtiLmJldElkfS1TVEFLRWAsIFxuICAgICAgICAgICAgZGF0ZTogYi5kYXRlLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGBBcHVlc3RhOiAke2IuaG9tZVRlYW19IHZzICR7Yi5hd2F5VGVhbX1gLFxuICAgICAgICAgICAgcGFydG5lck5hbWU6IHBOYW1lLFxuICAgICAgICAgICAgYW1vdW50OiAtYi5zdGFrZUNPUCwgXG4gICAgICAgICAgICB0eXBlOiAnREVCSVQnLFxuICAgICAgICAgICAgY2F0ZWdvcnk6ICdCRVRfU1RBS0UnLFxuICAgICAgICAgICAgZGV0YWlsczogYCR7Yi5tYXJrZXREZXNjcmlwdGlvbn0gQCAke2Iub2Rkc0RlY2ltYWx9YCxcbiAgICAgICAgICAgIHN0YXR1czogYi5zdGF0dXMsXG4gICAgICAgICAgICBvcmlnaW5hbEJldElkOiBiLmJldElkIFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBCLiBFTlRSQURBIERFIERJTkVSTyAoUkVUT1JOTyAvIENBU0hPVVQpXG4gICAgICAgIGlmIChiLnN0YXR1cyAhPT0gJ1BFTkRJTkcnKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJ0bmVyID0gcGFydG5lcnMuZmluZChwID0+IHAucGFydG5lcklkID09PSBiLnBhcnRuZXJJZCk7XG4gICAgICAgICAgICBjb25zdCBjb21taXNzaW9uUGN0ID0gcGFydG5lciA/IHBhcnRuZXIucGFydG5lclByb2ZpdFBjdCA6IDA7XG4gICAgICAgICAgICBjb25zdCBvdXRjb21lID0gY2FsY3VsYXRlQmV0T3V0Y29tZShiLCBjb21taXNzaW9uUGN0KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgY2FzaEJhY2sgPSBvdXRjb21lLmZpbmFsUmV0dXJuO1xuXG4gICAgICAgICAgICBpZiAoY2FzaEJhY2sgPiAwIHx8IGIuc3RhdHVzID09PSAnTE9TVCcpIHtcbiAgICAgICAgICAgICAgICAgcmF3TW92ZW1lbnRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBpZDogYCR7Yi5iZXRJZH0tUkVUVVJOYCwgXG4gICAgICAgICAgICAgICAgICAgIGRhdGU6IGIuZGF0ZSwgXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBiLnN0YXR1cyA9PT0gJ0NBU0hFRF9PVVQnID8gJ0Nhc2ggT3V0IENvbmZpcm1hZG8nIDogJ1JldG9ybm8gQXB1ZXN0YScsXG4gICAgICAgICAgICAgICAgICAgIHBhcnRuZXJOYW1lOiBwTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBjYXNoQmFjaywgXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdDUkVESVQnLFxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogJ0JFVF9SRVRVUk4nLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBiLnN0YXR1cyA9PT0gJ0xPU1QnID8gJ1DDqXJkaWRhIFRvdGFsJyA6IChiLnN0YXR1cyA9PT0gJ0NBU0hFRF9PVVQnID8gJ0NvYnJvIEFudGljaXBhZG8nIDogJ0dhbmFuY2lhIE5ldGEnKSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBiLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgaXNaZXJvUmV0dXJuOiBjYXNoQmFjayA9PT0gMCxcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxCZXRJZDogYi5iZXRJZFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyA0LiBPUkRFTkFSIENST05PTMOTR0lDQU1FTlRFXG4gICAgcmF3TW92ZW1lbnRzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgY29uc3QgZGF0ZUEgPSBuZXcgRGF0ZShhLmRhdGUpLmdldFRpbWUoKTtcbiAgICAgICAgY29uc3QgZGF0ZUIgPSBuZXcgRGF0ZShiLmRhdGUpLmdldFRpbWUoKTtcbiAgICAgICAgaWYgKGRhdGVBICE9PSBkYXRlQikgcmV0dXJuIGRhdGVBIC0gZGF0ZUI7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBjYXRPcmRlciA9IHsgJ0RFUE9TSVQnOiAxLCAnQkVUX1NUQUtFJzogMiwgJ0JFVF9SRVRVUk4nOiAzLCAnV0lUSERSQVdBTCc6IDQgfTtcbiAgICAgICAgY29uc3QgY2F0QSA9IGNhdE9yZGVyW2EuY2F0ZWdvcnkgYXMga2V5b2YgdHlwZW9mIGNhdE9yZGVyXSB8fCA5O1xuICAgICAgICBjb25zdCBjYXRCID0gY2F0T3JkZXJbYi5jYXRlZ29yeSBhcyBrZXlvZiB0eXBlb2YgY2F0T3JkZXJdIHx8IDk7XG4gICAgICAgIGlmIChjYXRBICE9PSBjYXRCKSByZXR1cm4gY2F0QSAtIGNhdEI7XG5cbiAgICAgICAgaWYgKGEub3JpZ2luYWxCZXRJZCAmJiBiLm9yaWdpbmFsQmV0SWQpIHJldHVybiBhLm9yaWdpbmFsQmV0SWQubG9jYWxlQ29tcGFyZShiLm9yaWdpbmFsQmV0SWQpO1xuICAgICAgICByZXR1cm4gYS5pZC5sb2NhbGVDb21wYXJlKGIuaWQpO1xuICAgIH0pO1xuXG4gICAgLy8gNS4gQ2FsY3VsYXIgUnVubmluZyBCYWxhbmNlXG4gICAgbGV0IGN1cnJlbnRCYWxhbmNlID0gMDtcbiAgICBjb25zdCBtb3ZlbWVudHNXaXRoQmFsYW5jZSA9IHJhd01vdmVtZW50cy5tYXAobSA9PiB7XG4gICAgICAgIGN1cnJlbnRCYWxhbmNlICs9IG0uYW1vdW50O1xuICAgICAgICBjdXJyZW50QmFsYW5jZSA9IE1hdGgucm91bmQoY3VycmVudEJhbGFuY2UgKiAxMDApIC8gMTAwO1xuICAgICAgICByZXR1cm4geyAuLi5tLCBydW5uaW5nQmFsYW5jZTogY3VycmVudEJhbGFuY2UgfTtcbiAgICB9KTtcblxuICAgIHJldHVybiBtb3ZlbWVudHNXaXRoQmFsYW5jZS5yZXZlcnNlKCk7XG59O1xuXG4vLyBHZW5lcmFkb3IgZGUgUmVwb3J0ZSBQcm9mZXNpb25hbCBDU1ZcbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVByb2Zlc3Npb25hbFJlcG9ydCA9IChcbiAgICBiZXRzOiBCZXRbXSwgXG4gICAgcGFydG5lck5hbWU6IHN0cmluZywgXG4gICAgZGF0ZUZyb206IHN0cmluZywgXG4gICAgZGF0ZVRvOiBzdHJpbmdcbikgPT4ge1xuICAvLyAxLiBGaWx0ZXIgRGF0YSBieSBEYXRlIFJhbmdlXG4gIGNvbnN0IGZpbHRlcmVkQmV0cyA9IGJldHMuZmlsdGVyKGIgPT4ge1xuICAgICAgY29uc3QgZCA9IGIuZGF0ZTtcbiAgICAgIGlmIChkYXRlRnJvbSAmJiBkIDwgZGF0ZUZyb20pIHJldHVybiBmYWxzZTtcbiAgICAgIGlmIChkYXRlVG8gJiYgZCA+IGRhdGVUbykgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gIH0pO1xuXG4gIC8vIDIuIENhbGN1bGF0ZSBFeGVjdXRpdmUgU3VtbWFyeSBTdGF0c1xuICBjb25zdCB0b3RhbFN0YWtlZCA9IGZpbHRlcmVkQmV0cy5yZWR1Y2UoKHN1bSwgYikgPT4gc3VtICsgYi5zdGFrZUNPUCwgMCk7XG4gIGNvbnN0IHNldHRsZWRCZXRzID0gZmlsdGVyZWRCZXRzLmZpbHRlcihiID0+IGIuc3RhdHVzICE9PSAnUEVORElORycpO1xuICBsZXQgdG90YWxQcm9maXQgPSAwO1xuICBsZXQgd2lucyA9IDA7XG5cbiAgc2V0dGxlZEJldHMuZm9yRWFjaChiID0+IHtcbiAgICAgaWYgKGIuc3RhdHVzID09PSAnV09OJyB8fCAoYi5zdGF0dXMgPT09ICdDQVNIRURfT1VUJyAmJiAoYi5jYXNob3V0UmV0dXJuQ09QIHx8IDApID4gYi5zdGFrZUNPUCkpIHdpbnMrKztcbiAgICAgXG4gICAgIC8vIFByb2ZpdCBzaW1wbGUgY2FsY3VsYXRpb24gZm9yIHJlcG9ydFxuICAgICBpZiAoYi5zdGF0dXMgPT09ICdXT04nKSB0b3RhbFByb2ZpdCArPSAoYi5zdGFrZUNPUCAqIGIub2Rkc0RlY2ltYWwpIC0gYi5zdGFrZUNPUDtcbiAgICAgZWxzZSBpZiAoYi5zdGF0dXMgPT09ICdMT1NUJykgdG90YWxQcm9maXQgLT0gYi5zdGFrZUNPUDtcbiAgICAgZWxzZSBpZiAoYi5zdGF0dXMgPT09ICdDQVNIRURfT1VUJykgdG90YWxQcm9maXQgKz0gKGIuY2FzaG91dFJldHVybkNPUCB8fCAwKSAtIGIuc3Rha2VDT1A7XG4gIH0pO1xuXG4gIGNvbnN0IHJvaSA9IHRvdGFsU3Rha2VkID4gMCA/ICh0b3RhbFByb2ZpdCAvIHRvdGFsU3Rha2VkKSAqIDEwMCA6IDA7XG4gIGNvbnN0IHdpblJhdGUgPSBzZXR0bGVkQmV0cy5sZW5ndGggPiAwID8gKHdpbnMgLyBzZXR0bGVkQmV0cy5sZW5ndGgpICogMTAwIDogMDtcblxuICAvLyAzLiBDb25zdHJ1Y3QgQ1NWIENvbnRlbnRcbiAgY29uc3Qgcm93cyA9IFtdO1xuICBcbiAgLy8gSGVhZGVyIFNlY3Rpb25cbiAgcm93cy5wdXNoKFsnUkVQT1JURSBERSBSRU5ESU1JRU5UTyAtIEZFTk5JWCBFTVBPUklVTSddKTtcbiAgcm93cy5wdXNoKFtgU29jaW86LCR7cGFydG5lck5hbWV9YF0pO1xuICByb3dzLnB1c2goW2BGZWNoYSBkZSBHZW5lcmFjacOzbjosJHtuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygpfWBdKTtcbiAgcm93cy5wdXNoKFtgUGVyaW9kbzosJHtkYXRlRnJvbSB8fCAnSW5pY2lvJ30gYSAke2RhdGVUbyB8fCAnQWN0dWFsaWRhZCd9YF0pO1xuICByb3dzLnB1c2goW10pOyAvLyBFbXB0eSBsaW5lXG4gIFxuICAvLyBFeGVjdXRpdmUgU3VtbWFyeSBTZWN0aW9uXG4gIHJvd3MucHVzaChbJ1JFU1VNRU4gRUpFQ1VUSVZPJ10pO1xuICByb3dzLnB1c2goWyctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSddKTtcbiAgcm93cy5wdXNoKFtgT3BlcmFjaW9uZXMgVG90YWxlczosJHtmaWx0ZXJlZEJldHMubGVuZ3RofWBdKTtcbiAgcm93cy5wdXNoKFtgQ2FwaXRhbCBNb3ZpZG8gKFN0YWtlKTosJHt0b3RhbFN0YWtlZH1gXSk7XG4gIHJvd3MucHVzaChbYFdpbiBSYXRlOiwke3dpblJhdGUudG9GaXhlZCgyKX0lYF0pO1xuICByb3dzLnB1c2goW2BST0kgKFJldG9ybm8gcy9JbnZlcnNpw7NuKTosJHtyb2kudG9GaXhlZCgyKX0lYF0pO1xuICByb3dzLnB1c2goW2BVdGlsaWRhZCBOZXRhIEdlbmVyYWRhOiwke3RvdGFsUHJvZml0fWBdKTtcbiAgcm93cy5wdXNoKFtdKTsgLy8gRW1wdHkgbGluZVxuXG4gIC8vIERldGFpbCBIZWFkZXJcbiAgcm93cy5wdXNoKFsnREVUQUxMRSBERSBPUEVSQUNJT05FUyddKTtcbiAgcm93cy5wdXNoKFsnSUQnLCAnRmVjaGEnLCAnRXZlbnRvJywgJ01lcmNhZG8nLCAnQ3VvdGEnLCAnSW52ZXJzacOzbicsICdFc3RhZG8nLCAnUmV0b3JubycsICdHYW5hbmNpYSBOZXRhJ10pO1xuXG4gIC8vIERhdGEgUm93c1xuICBmaWx0ZXJlZEJldHMuZm9yRWFjaChiID0+IHtcbiAgICAgIGxldCByZXQgPSAwO1xuICAgICAgbGV0IHByb2ZpdCA9IDA7XG4gICAgICBcbiAgICAgIGlmIChiLnN0YXR1cyA9PT0gJ1dPTicpIHtcbiAgICAgICAgICByZXQgPSBiLnN0YWtlQ09QICogYi5vZGRzRGVjaW1hbDtcbiAgICAgICAgICBwcm9maXQgPSByZXQgLSBiLnN0YWtlQ09QO1xuICAgICAgfSBlbHNlIGlmIChiLnN0YXR1cyA9PT0gJ0xPU1QnKSB7XG4gICAgICAgICAgcmV0ID0gMDtcbiAgICAgICAgICBwcm9maXQgPSAtYi5zdGFrZUNPUDtcbiAgICAgIH0gZWxzZSBpZiAoYi5zdGF0dXMgPT09ICdDQVNIRURfT1VUJykge1xuICAgICAgICAgIHJldCA9IGIuY2FzaG91dFJldHVybkNPUCB8fCAwO1xuICAgICAgICAgIHByb2ZpdCA9IHJldCAtIGIuc3Rha2VDT1A7XG4gICAgICB9IGVsc2UgaWYgKGIuc3RhdHVzID09PSAnVk9JRCcpIHtcbiAgICAgICAgICByZXQgPSBiLnN0YWtlQ09QO1xuICAgICAgfVxuXG4gICAgICByb3dzLnB1c2goW1xuICAgICAgICAgIGIuYmV0SWQsXG4gICAgICAgICAgYi5kYXRlLFxuICAgICAgICAgIGAke2IuaG9tZVRlYW19IHYgJHtiLmF3YXlUZWFtfWAsXG4gICAgICAgICAgYi5tYXJrZXREZXNjcmlwdGlvbixcbiAgICAgICAgICBiLm9kZHNEZWNpbWFsLFxuICAgICAgICAgIGIuc3Rha2VDT1AsXG4gICAgICAgICAgYi5zdGF0dXMsXG4gICAgICAgICAgcmV0LFxuICAgICAgICAgIHByb2ZpdFxuICAgICAgXSk7XG4gIH0pO1xuXG4gIC8vIENvbnZlcnQgdG8gQ1NWIFN0cmluZ1xuICBjb25zdCBjc3ZDb250ZW50ID0gcm93cy5tYXAoZSA9PiBlLmpvaW4oJywnKSkuam9pbignXFxuJyk7XG4gIFxuICAvLyBEb3dubG9hZCBMb2dpY1xuICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2NzdkNvbnRlbnRdLCB7IHR5cGU6ICd0ZXh0L2NzdjtjaGFyc2V0PXV0Zi04OycgfSk7XG4gIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gIGxpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgdXJsKTtcbiAgbGluay5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgYFJlcG9ydGVfRmVubml4XyR7cGFydG5lck5hbWV9XyR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF19LmNzdmApO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspO1xuICBsaW5rLmNsaWNrKCk7XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7XG59OyJdLCJuYW1lcyI6WyJmb3JtYXRDdXJyZW5jeSIsImFtb3VudCIsIkludGwiLCJOdW1iZXJGb3JtYXQiLCJzdHlsZSIsImN1cnJlbmN5IiwibWluaW11bUZyYWN0aW9uRGlnaXRzIiwibWF4aW11bUZyYWN0aW9uRGlnaXRzIiwiZm9ybWF0IiwiY2FsY3VsYXRlRXhwZWN0ZWRSZXR1cm4iLCJzdGFrZSIsIm9kZHMiLCJjYWxjdWxhdGVCZXRPdXRjb21lIiwiYmV0IiwiYWRtaW5Db21taXNzaW9uUGN0IiwiZmluYWxSZXR1cm4iLCJwcm9maXRHcm9zcyIsInN0YXR1cyIsInN0YWtlQ09QIiwib2Rkc0RlY2ltYWwiLCJjYXNob3V0UmV0dXJuQ09QIiwicHJvZml0UGFydG5lciIsInByb2ZpdEFkbWluIiwiY2FsY3VsYXRlRGFzaGJvYXJkU3RhdHMiLCJiZXRzIiwicGFydG5lcnMiLCJzZWxlY3RlZFBhcnRuZXJJZCIsImZ1bmRzIiwid2l0aGRyYXdhbHMiLCJpc0dsb2JhbCIsInJlbGV2YW50QmV0cyIsImZpbHRlciIsImIiLCJwYXJ0bmVySWQiLCJyZWxldmFudEZ1bmRzIiwiZiIsInNjb3BlIiwicmVsZXZhbnRXaXRoZHJhd2FscyIsInciLCJ0b3RhbERlcG9zaXRlZCIsInJlZHVjZSIsInN1bSIsImFtb3VudENPUCIsInRvdGFsV2l0aGRyYXduIiwiYmFzZUNhcGl0YWwiLCJ0b3RhbFN0YWtlZCIsInRvdGFsUmV0dXJuZWRSZWFsIiwiZ3Jvc3NQcm9maXRHbG9iYWwiLCJuZXRQcm9maXRQYXJ0bmVyIiwibmV0UHJvZml0QWRtaW4iLCJwZW5kaW5nRXhwb3N1cmUiLCJmb3JFYWNoIiwicGFydG5lciIsImZpbmQiLCJwIiwiY29tbWlzc2lvblBjdCIsInBhcnRuZXJQcm9maXRQY3QiLCJvdXRjb21lIiwiY3VycmVudEJhbGFuY2UiLCJzZXR0bGVkQmV0cyIsIndvbkJldHMiLCJsZW5ndGgiLCJ3aW5SYXRlIiwidG90YWxPZGRzIiwiYXZnT2RkcyIsInNldHRsZWRTdGFrZWQiLCJyb2FzIiwicm9pIiwidG90YWxSZXR1cm5lZCIsImdyb3NzUHJvZml0IiwiZ2VuZXJhdGVMZWRnZXIiLCJyYXdNb3ZlbWVudHMiLCJnZXRQYXJ0bmVyTmFtZSIsInBpZCIsInBhcnQiLCJuYW1lIiwicHVzaCIsImlkIiwiZnVuZElkIiwiZGF0ZSIsImRlc2NyaXB0aW9uIiwicGFydG5lck5hbWUiLCJ0eXBlIiwiY2F0ZWdvcnkiLCJkZXRhaWxzIiwibWV0aG9kIiwid2l0aGRyYXdhbElkIiwicE5hbWUiLCJiZXRJZCIsImhvbWVUZWFtIiwiYXdheVRlYW0iLCJtYXJrZXREZXNjcmlwdGlvbiIsIm9yaWdpbmFsQmV0SWQiLCJjYXNoQmFjayIsImlzWmVyb1JldHVybiIsInNvcnQiLCJhIiwiZGF0ZUEiLCJEYXRlIiwiZ2V0VGltZSIsImRhdGVCIiwiY2F0T3JkZXIiLCJjYXRBIiwiY2F0QiIsImxvY2FsZUNvbXBhcmUiLCJtb3ZlbWVudHNXaXRoQmFsYW5jZSIsIm1hcCIsIm0iLCJNYXRoIiwicm91bmQiLCJydW5uaW5nQmFsYW5jZSIsInJldmVyc2UiLCJnZW5lcmF0ZVByb2Zlc3Npb25hbFJlcG9ydCIsImRhdGVGcm9tIiwiZGF0ZVRvIiwiZmlsdGVyZWRCZXRzIiwiZCIsInRvdGFsUHJvZml0Iiwid2lucyIsInJvd3MiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJ0b0ZpeGVkIiwicmV0IiwicHJvZml0IiwiY3N2Q29udGVudCIsImUiLCJqb2luIiwiYmxvYiIsIkJsb2IiLCJ1cmwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJsaW5rIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwidG9JU09TdHJpbmciLCJzcGxpdCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImNsaWNrIiwicmVtb3ZlQ2hpbGQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./utils/calculations.ts\n"));

/***/ })

});